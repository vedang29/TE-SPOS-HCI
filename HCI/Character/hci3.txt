import tkinter as tk
from tkinter import filedialog, messagebox
from PIL import Image, ImageTk
import cv2
import pytesseract

class OCRApp:
    def __init__(self, root):
        self.root = root
        self.root.title("Simple OCR GUI")
        self.root.geometry("600x700")

        
        tk.Button(root, text="Load Image", command=self.load_image, bg="#ADD8E6", font=("Arial", 12), width=25).pack(pady=10)

        
        self.image_label = tk.Label(root)
        self.image_label.pack(pady=10)

       
        self.text_box = tk.Text(root, height=15, width=70, font=("Arial", 12))
        self.text_box.pack(pady=10)

    def load_image(self):
        file_path = filedialog.askopenfilename(
            title="Select Image",
            filetypes=[("Image Files", "*.png *.jpg *.jpeg *.bmp")]
        )
        if not file_path:
            return

        
        image = cv2.imread(file_path)
        if image is None:
            messagebox.showerror("Error", "Failed to load image!")
            return

        
        image_rgb = cv2.cvtColor(image, cv2.COLOR_BGR2RGB)

       
        img = Image.fromarray(image_rgb)
        img.thumbnail((500, 500)) 
        imgtk = ImageTk.PhotoImage(img)
        self.image_label.config(image=imgtk)
        self.image_label.image = imgtk 

        
        try:
            extracted_text = pytesseract.image_to_string(image_rgb)
        except Exception as e:
            messagebox.showerror("Error", f"OCR Failed: {e}")
            return

      
        self.text_box.delete(1.0, tk.END)
        self.text_box.insert(tk.END, extracted_text.strip() if extracted_text.strip() else "No text detected")

if __name__ == "__main__":
    root = tk.Tk()
    app = OCRApp(root)
    root.mainloop()
